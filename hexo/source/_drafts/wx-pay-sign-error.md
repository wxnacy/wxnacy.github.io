---
title: 微信支付调用报错【签名错误】详解
tags: [微信]
---

微信的 API 真的让人狠的牙痒痒，却又不得不用，抱怨的先不说了，先来解决今天的问题。

<!-- more -->
<!-- toc -->

网上搜了下，调用支付相关接口，报【签名错误】的人真是不胜其数，这不算什么，神奇的是他们最后查到的原因还各不相同，我再结合自己出现的问题，在这里总结一下哪些操作可能会出现【签名错误】

官网文档镇楼：https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=4_3

校验工具压惊：https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=20_1

## 参数完全参与

**接口的参数除了 `sign`，必须全部参数签名运算**

理论上这是一个基本的条件，因为签名本身就是为了防止网络请求过程中被第三方篡改参数，但是我还是漏掉了一些参数。

这就是为什么我用上面的【校验工具】验证签名完全没有问题，但是请求却依然报错的原因。

我反思了下，大概是因为长久以来对微信 API 的恐怖经验造成的，让我把精力放在了其他的显式问题上，也就是下面要说到的。

## 三个关键信息








