var digits=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","!","@","#","$","%","^","&","*"];var NUM=["0","1","2","3","4","5","6","7","8","9"];var letter=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var LETTER=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var special=["!","@","#","$","%","^","&","*"];function getRandomFunc(e){var n=new Array(e);n[0]=LETTER[parseInt(Math.random()*LETTER.length)];n[1]=letter[parseInt(Math.random()*letter.length)];n[2]=special[parseInt(Math.random()*special.length)];n[3]=NUM[parseInt(Math.random()*NUM.length)];for(var t=4;t<e;t++){n[t]=digits[parseInt(Math.random()*digits.length)]}var a=n.join("");return n.join("")}function getRandom(e){var n=getRandomFunc(e);document.getElementById("out").innerHTML=n}var SECRET_KEY="5f71fbb6f071d5dc2a4221bb1f891492";function sortDict(e){keys=Object.keys(e);keys.sort();newDict={};keys.forEach(function(n,t){newDict[n]=e[n]});return newDict}function create_sign(e,n,t){e=sortDict(e);params="";for(var a in e){params=params+a+"="+e[a]+"&"}params=params+"ts="+n+"&";params=params+"rs="+t;sign=CryptoJS.HmacSHA1(params,SECRET_KEY).toString().toUpperCase();console.log(params);console.log(sign);return sign}function encryptParams(e){var n=(new Date).getTime();var t=getRandomFunc(10);var a=create_sign(e,n,t);e["ts"]=n;e["rs"]=t;e["sign"]=a;return e}function get_page_pv(){var e=document.getElementById("busuanzi_value_page_pv").innerHTML;return e}var pagePvTimer;function create_visit(){console.log(window.location.search);console.log(document.getElementById("busuanzi_value_page_pv").innerHTML);var e=get_page_pv();console.log("time");if(e!=""&&e!="undefined"){clearInterval(pagePvTimer);console.log(e);fetch("/api/visit",{method:"POST"}).then(function(e){return e.json()}).then(function(e){console.log(e)})}}function create_crypto(e){var n=document.getElementById("msg").value;var t=document.getElementById("key").value;fetch("/api/crypto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(encryptParams({content:n,type:e,key:t}))}).then(function(e){return e.json()}).then(function(n){console.log(n);body=n.data;if(e=="default"||e=="hmac"){document.getElementById("crypto").style.display="none";document.getElementById("hash").style.display="block";document.getElementById("md5").innerHTML=body.md5;document.getElementById("sha1").innerHTML=body.sha1;document.getElementById("sha256").innerHTML=body.sha256;document.getElementById("sha512").innerHTML=body.sha512}else{document.getElementById("hash").style.display="none";document.getElementById("crypto").style.display="block";document.getElementById("result").innerHTML=body.result}})}