# 改变 prefix 快捷键为 <C-a>
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# 绑定重新加载 ~/.tmux.conf 的快捷键
bind r source-file ~/.tmux.conf ; display-message "Config reloaded.."

set -g default-terminal "screen-256color"   # use 256 colors
set -g display-time 5000                    # status line messages display
set -g history-limit 100000                 # scrollback buffer n lines
set -g base-index 1                         # 窗口索引从1开始，默认是0
set -g pane-base-index 1
setw -g mode-keys vi                        # use vi in copy mode
# set-option -g default-shell $SHELL

# 美化状态栏
set-option -g status on
set-option -g status-interval 2
set-option -g status-justify "centre"
set-option -g status-left-length 60
set-option -g status-right-length 90
set-option -g status-left "#(~/WebstormProjects/wxnacy.github.io/shells/tmux/plugin/tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/WebstormProjects/wxnacy.github.io/shells/tmux/plugin/tmux-powerline/powerline.sh right)"
set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"

############################################################################
## Status Bar
#############################################################################
##set-option -g status-utf8 on
# set-option -g status-justify right
# set-option -g status-bg black # colour213 # pink
# set-option -g status-fg cyan
# set-option -g status-interval 5
# set-option -g status-left-length 30
# set-option -g status-left '#[fg=magenta]» #[fg=blue,bold]#T#[default]'
# set-option -g status-right '#[fg=red,bold][[ #(git branch) branch  ]] #[fg=cyan]»» #[fg=blue,bold]###S #[fg=magenta]%R %m-%d#(acpi | cut -d ',' -f 2)#[default]'
# set-option -g visual-activity on


# 分割窗口
unbind '"'
bind - splitw -v    # 垂直分割
unbind %
bind | splitw -h    # 水平分割


# 选择面板，更符合 Vim 习惯
bind k selectp -U
bind j selectp -D
bind h selectp -L
bind l selectp -R



# invoke reattach-to-user-namespace every time a new window/pane opens
# set-option -g default-command "reattach-to-user-namespace -l bash"
# start selecting text typing 'v' key (once you are in copy mode)
# bind-key -t vi-copy v begin-selection
# copy selected text to the system's clipboard
# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Some tweaks to the status line
# set -g status-right "%H:%M"
# set -g window-status-current-attr "underscore"

# If running inside tmux ($TMUX is set), then change the status line to red
# %if #{TMUX}
# set -g status-bg red
# %endif

# Enable RGB colour if running in xterm(1)
# set-option -sa terminal-overrides ",xterm*:Tc"


# No bells at all
# set -g bell-action none

# Keep windows around after they exit
# set -g remain-on-exit on


# Turn the mouse on, but without copy mode dragging
# set -g mouse on
# unbind -n MouseDrag1Pane
# unbind -Tcopy-mode MouseDrag1Pane

# Some extra key bindings to select higher numbered windows
# bind F1 selectw -t:10
# bind F2 selectw -t:11
# bind F3 selectw -t:12
# bind F4 selectw -t:13
# bind F5 selectw -t:14
# bind F6 selectw -t:15
# bind F7 selectw -t:16
# bind F8 selectw -t:17
# bind F9 selectw -t:18
# bind F10 selectw -t:19
# bind F11 selectw -t:20
# bind F12 selectw -t:21

# Keys to toggle monitoring activity in a window, and synchronize-panes
# bind m set monitor-activity
# bind y set synchronize-panes\; display 'synchronize-panes #{?synchronize-panes,on,off}'

# Create a single default session, because a session is created here, tmux
# should be started with "tmux attach" rather than "tmux new"
# new -d -s0 -nirssi 'exec irssi'
# set -t0:0 monitor-activity on
# set  -t0:0 aggressive-resize on
# neww -d -ntodo 'exec emacs ~/TODO'
# setw -t0:1 aggressive-resize on
# neww -d -nmutt 'exec mutt'
# setw -t0:2 aggressive-resize on
# neww -d
# neww -d
# neww -d
